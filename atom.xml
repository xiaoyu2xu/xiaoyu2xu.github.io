<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>漫天话语</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xiaoyu2xu.github.io/"/>
  <updated>2019-05-29T01:53:00.817Z</updated>
  <id>http://xiaoyu2xu.github.io/</id>
  
  <author>
    <name>xiaoyu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>数据没了</title>
    <link href="http://xiaoyu2xu.github.io/2019/05/28/%E6%95%B0%E6%8D%AE%E6%B2%A1%E4%BA%86/"/>
    <id>http://xiaoyu2xu.github.io/2019/05/28/数据没了/</id>
    <published>2019-05-28T10:20:00.000Z</published>
    <updated>2019-05-29T01:53:00.817Z</updated>
    
    <content type="html"><![CDATA[<h5 id="数据丢失——记一次生产事故"><a href="#数据丢失——记一次生产事故" class="headerlink" title="数据丢失——记一次生产事故"></a>数据丢失——记一次生产事故</h5><p>很久没更新，因为最近人员流动大，导致工作量多了很多，其实一直都有考虑写些什么，这次聊聊以前遇到的事故吧。</p><h5 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h5><p>聊聊俩年前发生的生产事故吧，虽然时间比较久远，不过也给我长了很多经验。当时业务处于扩张期，以前用户通讯录、短信、通话记录相关的数据都存储在mongo中，因为满足不了后续各种乱七八糟的海量运算的需求，所以在业务的压力下，要将这些数据落到HBase中去做一些复杂的业务运算，当时原有的改造前的业务场景模型如下：<br><img src="%5Cimages%5Cpasted-1.png%5C" alt="upload successful"></p><a id="more"></a><p>改造后的业务场景模型如下：</p><p><img src="%5Cimages%5Cpasted-2.png%5C" alt="upload successful"></p><p>其实从系统设计上来看问题不大，但是上线就出问题了，由于<span style="color: #FF1744; font-weight: bold;">线上压力过大导致kafka发生阻塞</span>，大部分数据因为过期而丢失了，所以原本线上正常的mongo也受到牵连。原有对这些数据有操作的服务也因此受到了影响。问题持续了12天才发现数据丢失。</p><h5 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h5><p>事故后我们进行了复盘，改造时都依赖于kafka这块消费考虑的有失欠缺，因为这块逻辑都是新开发的，而且没正确评估服务器的压力，如果消费出现问题，那么之前用的功能和新上的都会出现问题。如果原先的逻辑保持不变（如下图），新起一个kafka直接消费落hbase，即使新上线的逻辑出问题，也能保证原有功能正常运行。所以<span style="color: #FF1744; font-weight: bold;">编码之前还是要考虑清楚，多想想异常情况</span>。</p><p><img src="%5Cimages%5Cpasted-3.png%5C" alt="upload successful"></p><p>当然了，也从侧面反馈出<span style="color: #FF1744; font-weight: bold;">数据监控的不足以及内部沟通的不畅通</span>，后续我们在监控方面做了各个指标的加强，以及和业务部门沟通的及时性，其实数据部门老早都发现有这个问题了， 但是因为沟通的滞后性，导致问题发生半个月之后才发现问题。</p><p>虽然说从技术角度来看是一个很小的问题，其实就是实现的方式，然后场景的评估不到位，不过也反馈出来了很多问题，所以说发生事故不可怕，可怕的是事故反应的<span style="color: #FF1744; font-weight: bold;">时效性、主动性</span>。积极的对待事故，避免更多的事故，使系统更完善，个人和团队更好的提升，毕竟在事故下的成长可是书本上学不来的。</p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;数据丢失——记一次生产事故&quot;&gt;&lt;a href=&quot;#数据丢失——记一次生产事故&quot; class=&quot;headerlink&quot; title=&quot;数据丢失——记一次生产事故&quot;&gt;&lt;/a&gt;数据丢失——记一次生产事故&lt;/h5&gt;&lt;p&gt;很久没更新，因为最近人员流动大，导致工作量多了很多，其实一直都有考虑写些什么，这次聊聊以前遇到的事故吧。&lt;/p&gt;
&lt;h5 id=&quot;过程&quot;&gt;&lt;a href=&quot;#过程&quot; class=&quot;headerlink&quot; title=&quot;过程&quot;&gt;&lt;/a&gt;过程&lt;/h5&gt;&lt;p&gt;聊聊俩年前发生的生产事故吧，虽然时间比较久远，不过也给我长了很多经验。当时业务处于扩张期，以前用户通讯录、短信、通话记录相关的数据都存储在mongo中，因为满足不了后续各种乱七八糟的海量运算的需求，所以在业务的压力下，要将这些数据落到HBase中去做一些复杂的业务运算，当时原有的改造前的业务场景模型如下：&lt;br&gt;&lt;img src=&quot;%5Cimages%5Cpasted-1.png%5C&quot; alt=&quot;upload successful&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>研发到leader感悟</title>
    <link href="http://xiaoyu2xu.github.io/2019/05/15/%E7%A0%94%E5%8F%91%E5%88%B0leader%E6%84%9F%E6%82%9F/"/>
    <id>http://xiaoyu2xu.github.io/2019/05/15/研发到leader感悟/</id>
    <published>2019-05-15T09:04:00.000Z</published>
    <updated>2019-05-16T02:26:00.982Z</updated>
    
    <content type="html"><![CDATA[<p>研发能力提升到一定程度之后会发现遇到瓶颈，面临两个选择，一种是继续做技术，深入对技术的研究以及拓宽技术的维度，这个就是我们熟知的架构师；另外一种就是带领团队继续开拓新的业务，培养新人成长，维护团队稳定，这个就是我们熟知的leader，我主要分享下我从研发到leader踩得坑和感悟。</p><p>先看看研发和leader主要职责，研发是去完成项目上的技术实现，解决项目过程中遇到的问题，更多的是把自己负责的事做好，类似于手术中的主刀医生，他负责把手术做好，完成后就开始着手准备下一个，而且每次做完手术之后会很有成就感；而leader的职责更倾向于带领兄弟们一起做事，使团队做到有条不紊，及时应对各种外来突发状况，做好协调工作，带领团队共同前进，实时关注团队成员的精神状态，保证工作的顺利开展，及时发现潜在风险和及时排除，更类似于球赛场下的教练角色以及场上的组织者，更好的和团队一起在比赛中获取胜利。</p><a id="more"></a><p>研发向leader角色的转变，意味着工作重心由原有的主攻技术难点转向带团队向前走；时间应用由原来的编码变为更多的时间去开会、沟通以及及时团队同步信息，做到信息实时；技能要求则有团队搭建、新人指导、招聘面试、进度推动以及复盘总结改进；一时间过程中会有很多挑战，也会有很多困惑。</p><h6 id="遇到的坑"><a href="#遇到的坑" class="headerlink" title="遇到的坑"></a>遇到的坑</h6><p>1.没时间写代码，开始的时候幻想着写点代码，后来发现自己写的代码思路很乱，因为编码的过程中不停的会有人过来询问各式各样的问题，有个理论就是说程序员被打断一次需要 15 分钟才能接上上次的思路，我觉得是有道理的，之前在刚做leader时，我接了个比较复杂的模块，本来计划3天完成的，我用了5天时间，因为当时刚逢公司业务急速扩张阶段，我一天有一半时间是在会议室度过的，导致我在位置上的时间都是不定时的，后来我的代码就被组员吐槽了。我一前辈在做技术leader也遇到同样的问题，后来和他沟通之后，其实发现大家的经理都很相似，他刚做技术leader的时候也会每天晚上用下班时间做一些核心模块的编码，然后整个人会感觉很累。近两年再跟他一起吃饭的时候发现他精神好了很多，他告诉我开始慢慢培养下属自我驱动能力去做好分内的事，自己有更多的时间去做优化团队的事了；</p><p>2.怀疑自己的价值，好像自己什么都没做，事情都是别人做的，有一段时间我有这样的担心，但是后来我发现不是这样的。因为一个团队每个人要过的开心，会遇到各种各样的问题，可能是人际关系的问题，可能是沟通方式的问题，可能是和别的组协作的问题。面对各种各样的问题，你能帮助他把这样的问题全部解决，让每个人都工作的很好，很开心这是很难的。一个好的工作环境，是提高工作效率的重要因素，如果天天始终面临着一个压抑的环境，团队成员每天疲于去应对各式各样的问题，最终会导致项目出现各式各样的问题；</p><p>3.不懂的向上管理，这也是程序员本身的自我习惯，因为长期和计算机打交道，所以不太愿意沟通。但必须通过和老大的沟通，获得他对整个团队的期望和目标。也通过沟通提出你遇到的困难的和挑战，让他给你相应的资源和帮助，这个过程是很重要的。刚开始带一个团队很可能会忽视这样的一个过程，你可能会觉得不好意思，或者不重要，其实这是非常重要的。如果没有这个向上管理的话，你可能把整个团队都给带偏了，最后老大会说我要的并不是这个，我要的是另外一个东西。所以说一定要做好向上管理。</p><h6 id="自我感悟"><a href="#自我感悟" class="headerlink" title="自我感悟"></a>自我感悟</h6><p>1.多去激励默默无闻，有效行动的人，这个问题在研发这边尤为明显，我之前也会经常犯这种问题，我手上有个项目平常给人的感觉就是做电话的，但其实真出问题之后，会导致公司大量中后台业务无法进行，平常会很累，因为每天要对接来至于公司业务的提问还要去给多个厂商挖的坑进行排查，自我发现，然后自我优化，所以我做leader的之后我特意关注这些默默无闻，有效行动的人,心理学角度来讲每个人都有着渴望被关注的需求，多给与对方鼓励，很多时候你会收到超出想象的效果；团队犯错误时，多自我批评，其实很多时候做错事的人比任何人都后悔和着急，这个时候需要多去鼓励他去弥补，协助补救错误方案，而不是批评；</p><p>2.多正能量去影响团队，解决问题多从团队角度出发，提升团队解决问题的积极性，以自己团队为荣。在初期做管理的时候，我觉得团队成员会很辛苦，于是趁着自己闲暇之余会去帮忙实现一些不是很急的和逻辑流程不太复杂的功能，后来和员工聊天谈心的时候发现有些想法颠覆了我的想法，有人会认为我把能拿到好处的都留给自己，为此我还自闭了小半天，后来和领导的沟通，我转换了下思维方式，把所有的功能都给团队成员，反而发现成员有人可干，并且效率得到了提高；</p><p>3.同步团队目标，不定时去同步任务重点和询问难点；多观察员工工作情况，多总结，开放性的提出优化方案，多解决团队琐碎重复劳动，鼓励挑战和创新，针对出现重大问题的项目定期进行复盘和总结；</p><p>4.多了解团队每个人除了工作外的状态，好的后勤是保证每个人能更好工作的先决条件，当然了，每个人的环境都多多少少有些差异，多一些关心；在工作上多活跃气氛，多去引导团队氛围往积极乐观的去做，开开心心的把事给做好了，既有成就感，也有好心情；</p><p>5.持续学习新的技术，多学习产品思维，这里着重强调了下产品思维，多从产品角度考虑项目做的意义，多体会业务需求中深层次的需求，祛除无意义的需求，很多时候业务方并不知道自己要什么东西，要多以引导式的方式引导功能，并能很好的了解做这个项目能带来什么收益，毕竟公司好，个人才好；</p><p>6.多自我反思，这里引用了我们团队每次开玩笑的话，不过也很有道理的一句话，想想自己哪些事做的不好，哪些地方需要改进，其实很多时候你会发现反思之后会有很多和当时不一样的想法，你会发现更优解；</p><p>以上就是我从技术到leader转变过程中分享的一些感悟。欢迎大家讨论。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;研发能力提升到一定程度之后会发现遇到瓶颈，面临两个选择，一种是继续做技术，深入对技术的研究以及拓宽技术的维度，这个就是我们熟知的架构师；另外一种就是带领团队继续开拓新的业务，培养新人成长，维护团队稳定，这个就是我们熟知的leader，我主要分享下我从研发到leader踩得坑和感悟。&lt;/p&gt;
&lt;p&gt;先看看研发和leader主要职责，研发是去完成项目上的技术实现，解决项目过程中遇到的问题，更多的是把自己负责的事做好，类似于手术中的主刀医生，他负责把手术做好，完成后就开始着手准备下一个，而且每次做完手术之后会很有成就感；而leader的职责更倾向于带领兄弟们一起做事，使团队做到有条不紊，及时应对各种外来突发状况，做好协调工作，带领团队共同前进，实时关注团队成员的精神状态，保证工作的顺利开展，及时发现潜在风险和及时排除，更类似于球赛场下的教练角色以及场上的组织者，更好的和团队一起在比赛中获取胜利。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
